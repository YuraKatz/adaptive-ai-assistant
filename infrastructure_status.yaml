# infrastructure_status.yaml - Текущее состояние Adaptive AI Assistant
# Дата обновления: 2025-08-09

project_status:
  name: "Adaptive AI Assistant"
  phase: "Infrastructure Setup"
  start_date: "2025-08-09"
  progress: "20% - Инфраструктура готова"

api_integrations:
  deepseek:
    status: "активен"
    api_key: "получен"
    credits: "$5 USD"
    model: "deepseek-chat"
    cost_per_1m_tokens:
      input: "$0.27"
      output: "$1.10"
    estimated_usage: "~18,000 сообщений на $5"
    test_status: "✅ успешно"
    
  claude:
    status: "резерв"
    credits: "$5 USD" 
    model: "claude-sonnet-4-20250514"
    cost_per_1m_tokens:
      input: "$3.00"
      output: "$15.00"
    estimated_usage: "~1,500 сообщений на $5"
    note: "сохраняем для премиум качества"

azure_infrastructure:
  resource_group:
    name: "adaptive-ai-test"
    location: "Israel Central"
    budget_protection: "$5 USD с алертами"
    
  function_app:
    name: "adaptive-ai-bot-yk"
    status: "создается"
    runtime: ".NET 8 (LTS), isolated worker model"
    hosting_plan: "Consumption (serverless)"
    region: "Israel Central"
    estimated_cost: "$1-3/месяц"
    
  storage:
    account_name: "adaptiveaitest9ef7"
    type: "general purpose"
    auto_created: true
    
  monitoring:
    application_insights: "adaptive-ai-bot-yk"
    region: "Israel Central"
    free_tier: "5GB/месяц"

next_steps:
  immediate:
    - "Дождаться создания Function App"
    - "Создать HTTP trigger function"
    - "Интегрировать DeepSeek API"
    - "Настроить Telegram Bot webhook"
    
  development:
    - "Создать conversation memory system"
    - "Добавить YAML knowledge base integration"
    - "Настроить context management"
    - "Реализовать knowledge update suggestions"

technical_decisions:
  ai_provider: "DeepSeek (primary) + Claude (reserve)"
  cloud_provider: "Azure (personal account)"
  architecture: "Serverless Functions"
  security: "Budget limits + Resource Group isolation"
  memory_strategy: "In-memory для MVP → Redis для production"
  
cost_protection:
  budget_limit: "$5 USD/месяц"
  alerts: ["50% ($2.50)", "80% ($4.00)", "100% ($5.00)"]
  email_notifications: "yurakatz@gmail.com"
  kill_switch: "Delete Resource Group"
  
risks_mitigated:
  - "Неконтролируемые расходы (budget alerts)"
  - "Vendor lock-in (два AI провайдера)"
  - "Потеря данных (Git для knowledge base)"
  - "Scaling issues (Consumption plan auto-scales)"

lessons_learned:
  - "DeepSeek в 5-7 раз дешевле Claude для MVP"
  - "AI API требует отправки полной истории диалога"
  - "Azure Consumption plan идеален для serverless MVP"
  - "Budget alerts критично важны для защиты от трат"
  - "Israel Central region оптимален для минимальной задержки"